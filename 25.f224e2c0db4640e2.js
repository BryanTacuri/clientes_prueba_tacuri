"use strict";(self.webpackChunkprueba_Front=self.webpackChunkprueba_Front||[]).push([[25],{1025:(ge,S,l)=>{l.r(S),l.d(S,{ClienteModule:()=>ie});var g=l(9808),C=l(8244),e=l(5e3);let J=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-HomeClient"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[C.lC],styles:[""]}),n})(),y=(()=>{class n{constructor(){this.disparadorBarra=new e.vpe,this.search=new e.vpe,this.searchDate=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var V=l(3090);let Z=(()=>{class n{constructor(t){this.localService=t,this.clientes=[],this.cliente={id:1,nombre:"Juan",apellido:"Perez",email:"juanperez@gmail.com",telefono:"123456789",direccion:"Calle 123"},this.cliente2={id:2,nombre:"Pedro",apellido:"Gomez",email:"pedroGomez@gmail.com",telefono:"123456789",direccion:"Calle 123"},this.cliente3={id:3,nombre:"Maria",apellido:"Gomez",email:"mariago@gmail.com",telefono:"123456789",direccion:"Calle 123"},this.localService.getItem("clientes")?this.clientes=this.localService.getItem("clientes"):(this.clientes=[this.cliente,this.cliente2,this.cliente3],this.localService.setItem("clientes",this.clientes))}getClientes(){return this.localService.getItem("clientes")}getClientesByParams(t){return this.clientes=this.localService.getItem("clientes"),this.clientes=this.clientes.filter(o=>o.nombre.toLowerCase().includes(t.toLowerCase())||o.apellido.toLowerCase().includes(t.toLowerCase())),this.clientes}deleteCliente(t){this.clientes=this.localService.getItem("clientes"),this.clientes=this.clientes.filter(o=>o.id!==t),this.localService.setItem("clientes",this.clientes)}postCliente(t){this.clientes=this.localService.getItem("clientes"),t.id=this.clientes.length+1,this.clientes.push(t),console.log("clientes",this.clientes),this.localService.setItem("clientes",this.clientes)}putCliente(t){this.clientes=this.localService.getItem("clientes"),this.clientes=this.clientes.filter(o=>o.id!==t.id),this.clientes.push(t),this.localService.setItem("clientes",this.clientes)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(V.u))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var x=l(1945),s=l(2382),w=l(4004),B=l(8372),U=l(1884),I=l(8505);function T(n,i){if(i.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+i.length+" present")}function h(n){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function N(n){T(1,arguments);var i=Object.prototype.toString.call(n);return n instanceof Date||"object"===h(n)&&"[object Date]"===i?new Date(n.getTime()):"number"==typeof n||"[object Number]"===i?new Date(n):(("string"==typeof n||"[object String]"===i)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function c(n,i){for(var t=n<0?"-":"",o=Math.abs(n).toString();o.length<i;)o="0"+o;return t+o}var _=l(2683),d=l(1047),D=l(5017),L=l(6042),E=l(2643);function P(n,i){1&n&&e._UZ(0,"i",7)}let Y=(()=>{class n{constructor(t){this.servicioBarra=t,this.inputSearch=new s.NI(""),this.date=null,this.fechaFormat="",this.filtroFecha=[]}ngOnInit(){this.onChange()}add(){this.servicioBarra.disparadorBarra.emit()}onChangeDate(t){this.fechaFormat=t.map(o=>function Q(n,i){var t,o;T(1,arguments);var r=N(n);if(isNaN(r.getTime()))throw new RangeError("Invalid time value");var a=String(null!==(t=null==i?void 0:i.format)&&void 0!==t?t:"extended"),m=String(null!==(o=null==i?void 0:i.representation)&&void 0!==o?o:"complete");if("extended"!==a&&"basic"!==a)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==m&&"time"!==m&&"complete"!==m)throw new RangeError("representation must be 'date', 'time', or 'complete'");var u="",z="",F="extended"===a?"-":"",oe="extended"===a?":":"";if("time"!==m){var re=c(r.getDate(),2),le=c(r.getMonth()+1,2),ae=c(r.getFullYear(),4);u="".concat(ae).concat(F).concat(le).concat(F).concat(re)}if("date"!==m){var b=r.getTimezoneOffset();if(0!==b){var M=Math.abs(b),se=c(Math.floor(M/60),2),ce=c(M%60,2);z="".concat(b<0?"+":"-").concat(se,":").concat(ce)}else z="Z";var he=""===u?"":"T",fe=[c(r.getHours(),2),c(r.getMinutes(),2),c(r.getSeconds(),2)].join(oe);u="".concat(u).concat(he).concat(fe).concat(z)}return u}(o,{representation:"date"})),this.filtroFecha=t,this.servicioBarra.searchDate.emit(this.fechaFormat)}reset(){this.inputSearch.setValue(""),this.servicioBarra.search.emit(this.inputSearch.value)}onChange(){this.inputSearch.valueChanges.pipe((0,w.U)(t=>t.trim().toLowerCase()),(0,B.b)(500),(0,U.x)(),(0,I.b)(t=>this.servicioBarra.search.emit(t))).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-barra"]],decls:10,vars:2,consts:[[1,"container"],[2,"width","30%"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","B\xfasqueda",3,"formControl"],["suffixIconSearch",""],["nz-button","","nzType","primary",2,"width","150px","margin-right","20px",3,"click"],["nz-icon","","nzType","plus"],["nz-icon","","nzType","search"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nz-input-group",2),e._UZ(3,"input",3),e.qZA(),e.YNc(4,P,1,0,"ng-template",null,4,e.W1O),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){return o.add()}),e._UZ(8,"i",6),e._uU(9," Agregar "),e.qZA()()()),2&t){const r=e.MAs(5);e.xp6(2),e.Q6J("nzSuffix",r),e.xp6(1),e.Q6J("formControl",o.inputSearch)}},directives:[_.w,d.gB,d.ke,d.Zp,s.Fj,s.JJ,s.oH,D.Ls,L.ix,E.dQ],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:center;align-content:space-evenly;background-color:#fff;height:70px}"]}),n})();var q=l(9590),p=l(9970),R=l(5737),H=l(2121),j=l(9727),A=l(7957),f=l(4546),O=l(1894);function $(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"form",2)(2,"nz-form-item")(3,"nz-form-label",3),e._uU(4,"Nombre"),e.qZA(),e.TgZ(5,"nz-form-control",4)(6,"nz-input-group"),e._UZ(7,"input",5),e.qZA()()(),e.TgZ(8,"nz-form-item")(9,"nz-form-label",3),e._uU(10,"Apellido"),e.qZA(),e.TgZ(11,"nz-form-control",6)(12,"nz-input-group"),e._UZ(13,"input",7),e.qZA()()(),e.TgZ(14,"nz-form-item")(15,"nz-form-label",8),e._uU(16,"E-mail"),e.qZA(),e.TgZ(17,"nz-form-control",9)(18,"nz-input-group"),e._UZ(19,"input",10),e.qZA()()(),e.TgZ(20,"nz-form-item")(21,"nz-form-label",11),e._uU(22,"Direccion"),e.qZA(),e.TgZ(23,"nz-form-control",12)(24,"nz-input-group"),e._UZ(25,"input",13),e.qZA()()(),e.TgZ(26,"nz-form-item")(27,"nz-form-label",14),e._uU(28,"Telefono"),e.qZA(),e.TgZ(29,"nz-form-control",12)(30,"nz-input-group"),e._UZ(31,"input",15),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.formCliente),e.xp6(2),e.Q6J("nzSpan",7),e.xp6(2),e.Q6J("nzSpan",12),e.xp6(4),e.Q6J("nzSpan",7),e.xp6(2),e.Q6J("nzSpan",12),e.xp6(4),e.Q6J("nzSpan",7),e.xp6(2),e.Q6J("nzSpan",12),e.xp6(4),e.Q6J("nzSpan",7),e.xp6(2),e.Q6J("nzSpan",12),e.xp6(4),e.Q6J("nzSpan",7),e.xp6(2),e.Q6J("nzSpan",12)}}let G=(()=>{class n{constructor(t,o,r){this._formBuilder=t,this.message=o,this.clienteService=r,this.isVisible=!1,this.isVisibleChange=new e.vpe,this.title="Modal",this.formCliente=this._formBuilder.group({id:[0],nombre:["",s.kI.required],apellido:["",s.kI.required],email:[""],telefono:[""],direccion:[""]})}ngOnInit(){var t;this.cliente&&this.formCliente.patchValue(this.cliente),this.title=(null===(t=this.cliente)||void 0===t?void 0:t.id)>0?"Editar Cliente":"Nuevo Cliente",console.log(this.formCliente.value)}handleCancel(){this.isVisible=!1,this.isVisibleChange.emit(this.isVisible)}handleOk(){this.formCliente.valid?this.formCliente.value.id>0?(console.log("edit",this.formCliente.value),this.clienteService.putCliente(this.formCliente.value),this.isVisibleChange.emit(this.isVisible)):(console.log("add",this.formCliente.value),this.clienteService.postCliente(this.formCliente.value),this.isVisibleChange.emit(this.isVisible)):this.message.error("Debe llenar todos los campos")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(j.dD),e.Y36(Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal-client"]],inputs:{isVisible:"isVisible",cliente:"cliente"},outputs:{isVisibleChange:"isVisibleChange"},decls:2,vars:2,consts:[[3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nz-form","",3,"formGroup"],["nzRequired","",3,"nzSpan"],["nzErrorTip","Por favor escriba un nombre!",3,"nzSpan"],["type","text","formControlName","nombre","nz-input","","placeholder","Nombre del cliente"],["nzErrorTip","Por favor escriba un apellido!",3,"nzSpan"],["type","text","formControlName","apellido","nz-input","","placeholder","Apellido del cliente"],["nzRequired","","nzFor","email",3,"nzSpan"],["nzErrorTip","Por favor escriba un e-mail correcto!",3,"nzSpan"],["type","text","formControlName","email","nz-input","","placeholder","E-mail del cliente"],["nzRequired","","nzFor","direccion",3,"nzSpan"],["nzErrorTip","Por favor escriba una direcci\xf3n",3,"nzSpan"],["type","text","formControlName","direccion","nz-input","","placeholder","Direcci\xf3n del cliente"],["nzRequired","","nzFor","telefono",3,"nzSpan"],["type","text","formControlName","telefono","nz-input","","placeholder","Telefono del cliente"]],template:function(t,o){1&t&&(e.TgZ(0,"nz-modal",0),e.NdJ("nzVisibleChange",function(a){return o.isVisible=a})("nzOnCancel",function(){return o.handleCancel()})("nzOnOk",function(){return o.handleOk()}),e.YNc(1,$,32,11,"ng-container",1),e.qZA()),2&t&&e.Q6J("nzVisible",o.isVisible)("nzTitle",o.title)},directives:[A.du,A.Hf,s._Y,s.JL,f.Lr,s.sg,O.SK,f.Nx,O.t3,f.iK,f.Fd,_.w,d.gB,s.Fj,d.Zp,s.JJ,s.u],styles:["[nz-form][_ngcontent-%COMP%]{max-width:600px}.phone-select[_ngcontent-%COMP%]{width:80px}"]}),n})();function X(n,i){if(1&n&&(e.TgZ(0,"th",8),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("nzSortFn",t.compare)("nzSortPriority",t.priority),e.xp6(1),e.hij(" ",t.title," ")}}function W(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"a",9),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().editRow(a)}),e._uU(13,"Editar"),e.qZA(),e._UZ(14,"nz-divider",10),e.TgZ(15,"a",11),e.NdJ("nzOnConfirm",function(){const a=e.CHM(t).$implicit;return e.oxw().deleteRow(a.id)}),e._uU(16,"Eliminar"),e.qZA()()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.apellido),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.telefono),e.xp6(2),e.Oqu(t.direccion)}}function K(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-modal-client",12),e.NdJ("isVisibleChange",function(){return e.CHM(t),e.oxw().closeModal()}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("cliente",t.cliente)("isVisible",t.isVisible)}}let v=(()=>{class n{constructor(t,o){this.barraService=t,this.clienteService=o,this.search="",this.clientes=[],this.loading=!1,this.dataFound="",this.listOfColumn=[{title:"Nombre",compare:(r,a)=>r.nombre.localeCompare(a.nombre),priority:!1},{title:"Apellido",compare:(r,a)=>r.apellido.localeCompare(a.apellido),priority:3},{title:"Correo",compare:(r,a)=>r.email.localeCompare(a.email),priority:2},{title:"Telefono",compare:(r,a)=>r.telefono.localeCompare(a.telefono),priority:1},{title:"Direccion",compare:(r,a)=>r.direccion.localeCompare(a.direccion),priority:1},{title:"Acciones"}]}ngOnInit(){this.getAllclientes(),this.barraService.disparadorBarra.subscribe(t=>{console.log("res",t),this.isVisible=!1,this.addClient()}),this.search$=this.barraService.search,this.subscription=this.search$.subscribe(t=>{this.buscarCliente(t)})}buscarCliente(t){this.clientes=this.clienteService.getClientes(),""==t?this.getAllclientes():this.clientes=this.clienteService.getClientesByParams(t)}getAllclientes(){this.clientes=this.clienteService.getClientes(),this.dataFound=" "}editRow(t){console.log("cliente",t),this.cliente=t,this.isVisible=!0}deleteRow(t){this.clienteService.deleteCliente(t),this.getAllclientes()}ngOnDestroy(){this.subscription.unsubscribe()}addClient(){this.cliente=null,this.isVisible=!0}closeModal(){this.isVisible=!1,this.getAllclientes()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y),e.Y36(Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-client"]],decls:15,vars:6,consts:[[1,"site-page-header-ghost-wrapper"],[3,"nzGhost"],[3,"nzSpinning"],["nzTableLayout","fixed",3,"nzData"],["sortTable",""],[3,"nzSortFn","nzSortPriority",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"cliente","isVisible","isVisibleChange",4,"ngIf"],[3,"nzSortFn","nzSortPriority"],[3,"click"],["nzType","vertical"],["nz-popconfirm","","nzPopconfirmTitle","\xbfEsta seguro de eliminar el cliente?",2,"color","#ff4d4f",3,"nzOnConfirm"],[3,"cliente","isVisible","isVisibleChange"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"nz-page-header",1)(2,"nz-page-header-title"),e._uU(3,"Clientes"),e.qZA()()(),e._UZ(4,"app-barra")(5,"br"),e.TgZ(6,"nz-spin",2)(7,"nz-table",3,4)(9,"thead")(10,"tr"),e.YNc(11,X,2,3,"th",5),e.qZA()(),e.TgZ(12,"tbody"),e.YNc(13,W,17,5,"tr",6),e.qZA()()(),e.YNc(14,K,1,2,"app-modal-client",7)),2&t){const r=e.MAs(8);e.xp6(1),e.Q6J("nzGhost",!1),e.xp6(5),e.Q6J("nzSpinning",o.loading),e.xp6(1),e.Q6J("nzData",o.clientes),e.xp6(4),e.Q6J("ngForOf",o.listOfColumn),e.xp6(2),e.Q6J("ngForOf",r.data),e.xp6(1),e.Q6J("ngIf",o.isVisible)}},directives:[x.$O,x.u9,Y,q.W,p.N8,p.Om,p.$Z,g.sg,p.Uo,p._C,p.qD,p.p0,R.g,H.JW,g.O5,G],styles:[""]}),n})();const k=[{path:"",component:J,children:[{path:"add",component:v},{path:"list",component:v},{path:"edit/:id",component:v},{path:"**",redirectTo:"",pathMatch:"full"}]}];let ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[C.Bz.forChild(k)],C.Bz]}),n})();var te=l(5571),ne=l(2201);let ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,te.V,ee,ne.I,s.u5,s.UX]]}),n})()}}]);